
## Kanban 自动化同步系统（方案3：混合模式）

### 建立的工具
1. **`scripts/parse-status.py`** — 解析STATUS.md，提取项目信息（JSON输出）
2. **`scripts/sync-status-to-kanban.sh`** — 主同步脚本，扫描所有STATUS.md并更新kanban卡片

### 工作原理
- **实时触发**: Agent完成工作 → 更新STATUS.md → 立即运行sync脚本
- **定期检查**: Heartbeat每2小时扫描一次，兜底同步

### 文件路径映射
- STATUS.md → kanban-tasks/{列}/{project_dir}.md
- 卡片标题=项目中文名，文件名=project_dir（避免中文路径问题）

### 自动功能
- 解析状态字段，映射到kanban列（进行中/TODO/完成/暂停）
- 自动移动卡片（状态变化时）
- 提取最近进展、Blockers、下一步到卡片内容
- 记录同步日志到 memory/kanban-sync.log

### 更新的规则
- **AGENTS.md**: 新增"更新STATUS.md后立即同步到kanban"规则
- **HEARTBEAT.md**: 新增"Kanban同步检查"任务（每2小时）

### 测试结果 ✅
成功同步3个项目：
- kalshi → 完成
- chinese-social-scripts → 完成
- video-repurpose → TODO

### 下一步优化
- [ ] 考虑添加git hooks（commit时自动同步）
- [ ] 增加状态变化通知（移动卡片时ping Jason）
- [ ] 支持手动触发优先级调整

