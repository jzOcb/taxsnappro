# ğŸ”© IRON RULES â€” é“å¾‹

These rules are non-negotiable. Every contributor (human or AI) must follow them.
Inspired by @predict_anon's methodology on Polymarket.

---

## Rule #1: Research â†’ Data â†’ Tradeï¼ˆæ­£å¾ªç¯ï¼‰

```
research/  â†’  data/  â†’  trade/
    â†‘                      |
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ°¸è¿œä¸è¦è·³è¿‡ research å’Œ data ç›´æ¥å†™ trade ä»£ç ã€‚**

- æ¯ä¸€ä¸ªæ–°ç­–ç•¥å¿…é¡»å…ˆæœ‰ researchï¼ˆå‡è®¾ã€é€»è¾‘æ¨æ¼”ã€æ•°æ®æ¥æºï¼‰
- ç„¶åæœ‰ dataï¼ˆæ”¶é›†å’Œåˆ†ææ•°æ®ï¼ŒéªŒè¯å‡è®¾ï¼‰
- æœ€åæ‰æ˜¯ tradeï¼ˆåŸºäºéªŒè¯è¿‡çš„å‡è®¾å†™äº¤æ˜“é€»è¾‘ï¼‰
- äº¤æ˜“ç»“æœåé¦ˆå› researchï¼Œå½¢æˆé—­ç¯

è¿åæ­¤è§„åˆ™çš„ç­–ç•¥ = èµŒåšï¼Œä¸æ˜¯äº¤æ˜“ã€‚

---

## Rule #2: æ¦‚ç‡ä¼˜å…ˆï¼Œä¸æ˜¯ä¿¡å·ä¼˜å…ˆ

**å…¥åœºå‰å¿…é¡»è®¡ç®— Expected Value (EV)ã€‚**

```
EV = P(win) Ã— expected_win - P(lose) Ã— expected_loss - fees
```

- å¦‚æœ EV â‰¤ 0ï¼Œä¸è¿›åœºã€‚å¥å·ã€‚
- "æŠ€æœ¯æŒ‡æ ‡è¯´åº”è¯¥ä¹°" ä¸å¤Ÿã€‚"æ¦‚ç‡æ¨¡å‹è¯´è¿™å•çš„ EV æ˜¯æ­£çš„" æ‰å¤Ÿã€‚
- æ¯ä¸€ç¬”äº¤æ˜“å¿…é¡»è®°å½•å…¥åœºæ—¶çš„æ¦‚ç‡ä¼°è®¡å’Œ EVï¼Œä¾›äº‹åéªŒè¯ã€‚

---

## Rule #3: æ¯æ¬¡æ”¹åŠ¨åªæ”¹ä¸€ä¸ªå˜é‡ï¼ˆA/B Testï¼‰

**ä¸å…è®¸åŒæ—¶æ”¹ä¸¤ä¸ªä»¥ä¸Šå‚æ•°ç„¶åè¯´"çœ‹èµ·æ¥æ›´å¥½äº†"ã€‚**

- æ”¹ stop-loss å®½åº¦ï¼Ÿåªæ”¹è¿™ä¸€ä¸ªï¼Œå…¶ä»–ä¿æŒä¸å˜ã€‚
- åŠ æ–°ä¿¡å·æºï¼ŸåªåŠ è¿™ä¸€ä¸ªï¼Œè§‚å¯Ÿæ•ˆæœã€‚
- è·‘è¶³å¤Ÿå¤šçš„äº¤æ˜“ï¼ˆ200+ï¼‰å†ä¸‹ç»“è®ºã€‚
- ç”¨ä¸¤ä¸ªè´¦å·/å®ä¾‹å¯¹ç…§è·‘ï¼Œæ§åˆ¶å˜é‡ã€‚

"æ„Ÿè§‰å˜å¥½äº†" â‰  å˜å¥½äº†ã€‚æ•°æ®è¯´äº†ç®—ã€‚

---

## Rule #4: æ‰¾åˆ°ä½ çš„å¯¹æ‰‹æ–¹

**é›¶å’Œåšå¼ˆä¸­ï¼Œææ¸…æ¥šè°åœ¨é€é’±ã€‚**

- å¦‚æœä½ ä¸çŸ¥é“è°æ˜¯å‚»å­ï¼Œä½ å°±æ˜¯å‚»å­
- åˆ†æå¯¹æ‰‹æ–¹ç”»åƒï¼šæ•£æˆ·ï¼Ÿæ…¢é€Ÿæ‰‹åŠ¨äº¤æ˜“è€…ï¼Ÿé”™è¯¯çš„æ¦‚ç‡ä¼°è®¡ï¼Ÿ
- ä½ çš„ edge æ˜¯ä»€ä¹ˆï¼Ÿå»¶è¿Ÿï¼Ÿä¿¡æ¯ï¼Ÿæ¨¡å‹ï¼ŸæµåŠ¨æ€§ï¼Ÿ
- å¦‚æœä½ è¯´ä¸æ¸… edge æ¥è‡ªå“ªé‡Œ â†’ å›åˆ° Rule #1

---

## Rule #5: KISS â€” Keep It Simple, Stupid

**ç®€å•ç­–ç•¥ + ä¸¥æ ¼éªŒè¯ > å¤æ‚æ¨¡å‹ + æ‹è„‘é—¨éªŒè¯**

- å…ˆç”¨æœ€ç®€å•çš„æ–¹æ³•è¯•
- å¤æ‚åº¦åªåœ¨ç®€å•æ–¹æ³•è¢«è¯æ˜ä¸å¤Ÿæ—¶æ‰å¢åŠ 
- æ¯ä¸€å±‚å¤æ‚åº¦å¿…é¡»è¯æ˜å®ƒå¸¦æ¥äº†å¤šå°‘é¢å¤–æ”¶ç›Š
- å¦‚æœä½ è§£é‡Šä¸æ¸…ç­–ç•¥é€»è¾‘ï¼Œä½ å¯èƒ½ä¹Ÿä¸ç†è§£å®ƒä¸ºä»€ä¹ˆèµšé’±

---

## Rule #6: è®°å½•ä¸€åˆ‡

**èµ¢é’±çš„å¸‚åœºéƒ½ä¸€ä¸ªæ ·ï¼Œäºé’±çš„å„ç§å„æ ·ã€‚**

- æ¯ç¬”äº¤æ˜“è®°å½•ï¼šentry/exitã€æ¦‚ç‡ã€EVã€ç­–ç•¥ã€å¸‚åœºçŠ¶æ€ã€ç»“æœ
- æ¯æ¬¡äºæŸå¿…é¡»åšäº‹ååˆ†æï¼šä¸ºä»€ä¹ˆäºï¼Ÿæ˜¯æ¨¡å‹é”™äº†è¿˜æ˜¯è¿æ°”ï¼Ÿ
- æ¯å‘¨ review äº¤æ˜“æ—¥å¿—ï¼Œæç‚¼ pattern
- äºé’±ä¸å¯æ€•ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆäºæ‰å¯æ€•

---

## Rule #7: æ“çºµæ„ŸçŸ¥

**äº†è§£æ“çºµæˆæœ¬ï¼Œé¿å¼€é«˜é£é™©çª—å£ã€‚**

- æ“çºµæˆæœ¬ â‰ˆ volume Ã— (0.2% ~ 0.4%)
- æ£€æµ‹å¼‚å¸¸å¤§å•å’Œå°¾ç›˜å¼‚å¸¸æ³¢åŠ¨
- å°¾ç›˜æœ€å2åˆ†é’Ÿ = é«˜å±åŒºï¼Œé™ä½ä»“ä½æˆ–é€€å‡º
- å¦‚æœæ£€æµ‹åˆ°æ“çºµè¿¹è±¡ â†’ æš‚åœï¼Œä¸è¦å¯¹èµŒ

---

## Rule #8: å…ˆéªŒ vs åéªŒ

**åŒºåˆ†ä½ çŸ¥é“æœ‰æ•ˆçš„æ”¹åŠ¨å’Œä½ éœ€è¦éªŒè¯çš„æ”¹åŠ¨ã€‚**

- å…ˆéªŒæœ‰æ•ˆï¼ˆå¦‚ä¿®å¤ latency bugï¼‰â†’ ç›´æ¥ä¸Šçº¿
- ä¸ç¡®å®šæ•ˆæœ â†’ A/B Testï¼ˆRule #3ï¼‰
- å›æµ‹ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸ä½œä¸ºå”¯ä¸€ä¾æ®ï¼ˆPoly/Kalshi ä»·æ ¼æ˜¯åšå¼ˆåçš„ï¼Œå›æµ‹ä¼šè¿‡æ‹Ÿåˆï¼‰
- å®ç›˜ A/B æ•°æ® > å›æµ‹æ•°æ® > ç›´è§‰

---

---

## Rule #9: è¿›ç¨‹å¿…é¡»å—ç®¡ï¼ˆManaged Process Onlyï¼‰

**æ‰€æœ‰äº¤æ˜“è¿›ç¨‹å¿…é¡»é€šè¿‡ `managed-process.sh` å¯åŠ¨ï¼Œç¦æ­¢è£¸å¯åŠ¨ã€‚**

```bash
# âœ… æ­£ç¡®
managed-process.sh register btc-v15 "cd ... && python3 -u src/xxx.py 480" 0
managed-process.sh start btc-v15

# âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆä¼šè¢« pre-commit hook æ‹¦æˆªï¼‰
# python3 src/realtime_paper_trader_v15.py &
# nohup python3 src/weather_paper_trader.py 720 &
# exec tool background: true
```

**ä¸ºä»€ä¹ˆï¼š**
- è£¸è¿›ç¨‹ä¾èµ– exec session â†’ sessionç»“æŸ/compaction â†’ è¿›ç¨‹è¢«é™é»˜kill
- V1 weather traderã€V11ã€V14 å…¨éƒ¨å› æ­¤é™é»˜æ­»äº¡ï¼Œæ— äººå‘ç°
- managed-process ç”¨ `setsid + nohup` å®Œå…¨è„±ç¦»session
- æ¯5åˆ†é’Ÿ healthcheck è‡ªåŠ¨æ£€æµ‹ + è‡ªåŠ¨é‡å¯ + Telegramå‘Šè­¦

**å¼ºåˆ¶æ‰§è¡Œï¼š** git pre-commit hook æ£€æµ‹è£¸å¯åŠ¨æ¨¡å¼ï¼Œcommit ä¼šè¢«æ‹¦æˆªã€‚

**æ–°traderä¸Šçº¿æ¸…å•ï¼š**
1. `managed-process.sh register <name> <cmd>` æ³¨å†Œ
2. `managed-process.sh start <name>` å¯åŠ¨
3. `managed-process.sh status` ç¡®è®¤è¿è¡Œ
4. ä»£ç é‡ŒåŠ  `signal.signal(signal.SIGTERM, handler)` â€” è®°å½•æ­»å› 

---

## Rule #10: å¯åŠ¨å‰æ€æ­»æ‰€æœ‰åŒåè¿›ç¨‹ï¼ˆé˜²å¹½çµé‡å¤ï¼‰

**process managerå¯åŠ¨æ–°å®ä¾‹å‰ï¼Œå¿…é¡»å…ˆ pkill -f åŒåè„šæœ¬ã€‚**

**ä¸ºä»€ä¹ˆï¼š**
- æ‰‹åŠ¨ `python3 bot.py &` å¯åŠ¨çš„è¿›ç¨‹ï¼Œprocess managerä¸çŸ¥é“
- åªæŸ¥è‡ªå·±çš„PIDæ–‡ä»¶ â†’ æ¼æ‰é‡ç”Ÿè¿›ç¨‹ â†’ å¤šå®ä¾‹åŒæ—¶è·‘
- å¤šå®ä¾‹æŠ¢åŒä¸€å¸‚åœº = æ•°æ®æ±¡æŸ“ + èµ„æºæµªè´¹ + éš¾ä»¥æ’æŸ¥

**ä¿®å¤ï¼š**
```bash
# åœ¨ start() é‡Œè‡ªåŠ¨æ€åŒåè¿›ç¨‹
local SCRIPT_NAME=$(echo "$CMD" | grep -oE '[a-zA-Z0-9_-]+\.py' | tail -1)
pkill -f "python3.*$SCRIPT_NAME" || true
```

**æ•™è®­æ¥æºï¼š** 2026-02-05ï¼Œ3ä¸ªtraderè·‘äº†åŒä»½ï¼ŒJasonå‘ç°åè¿½é—®

---

*Source: @predict_anon methodology + our own è¡€æ³ªæ•™è®­*
*Created: 2026-02-05*
*Updated: 2026-02-05 â€” Added Rule #10 (orphan process prevention)*
*Status: Active â€” æ°¸ä¸åºŸé™¤*
